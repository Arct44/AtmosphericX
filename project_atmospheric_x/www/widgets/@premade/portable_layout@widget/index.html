
<!DOCTYPE html>
<html>
    <title>AtmosphericX - Portable</title>
    <link rel="stylesheet" href="/widgets/@premade/portable_layout@widget/index.css">
    <link rel="icon" href="/assets/media/dashboard/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
    <script src="../../assets/javascript/AlertsClass.js"></script>
    <script src="../../assets/javascript/LibraryClass.js"></script>
    <body style="background-color: rgb(0, 0, 0);">
        <h1 style="color: rgb(255, 255, 255); font-size: 44px; text-align: center;">You are running in portable mode</h1>
        <div> <iframe src="/widgets/table" style="width: 100%; height: 700px; border: none;"></iframe> </div>
    </body>
    <script>
        let library = new Library()
        library.CreateSession().then(() => {
            let alert_class = new Alerts(library, false)
            let configurable_elements = global.configurations.widget_settings.alert.elements
            library.DetectMobileDevice() 
            document.addEventListener('onCacheUpdate', async (event) => {
                let storage = await alert_class.SyncAlerts()
                if (storage.length > 0) { await alert_class.QueryAlertsByQueue(storage) }
            })
        })
    </script>
</html>