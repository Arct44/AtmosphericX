<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>AtmosphericX - NWS API</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="CSS/index.css">
      <script src="JavaScript/Site.js"></script>
      <script src="JavaScript/ActiveMessage.js"></script>
   </head>
   <body>
      <nav class="navbar navbar bg p-3">
         <div class="d-flex col-12 col-md-3 col-lg-2 mb-2 mb-lg-0 flex-wrap flex-md-nowrap justify-content-between">
            <a class="navbar-brand" href="#"> AtmosphericX - NWS API </a>
            <ul class="nav flex-column" style="display: inline-block;">
               <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="site_dashboard.html">
                  <span class="ml-2">Manual</span>
                  </a>
               </li>
            </ul>
            <ul class="nav flex-column" style="display: inline-block;">
               <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="site_alerts.html">
                  <span class="ml-2">Alerts</span>
                  </a>
               </li>
            </ul>
            <ul class="nav flex-column" style="display: inline-block;">
               <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="site_outlook.html">
                  <span class="ml-5">Outlook</span>
                  </a>
               </li>
            </ul>
            <ul class="nav flex-column" style="display: inline-block;">
                <li class="nav-item">
                   <a class="nav-link" aria-current="page" href="site_manual.html">
                   <span class="ml-5">Manual</span>
                   </a>
                </li>
             </ul>
         </div>
      </nav>
      <div class="col-12 col-md-5 col-lg-8 d-flex align-items-center justify-content-md-end mt-3 mt-md-0"></div>
      <div class="container-fluid">
         <div class="row">
            <main class="col-md-9 ml-sm-auto col-lg-12 px-md-4 py-4">
               <h1 class="h2">Manual Alerts</h1>
               <p class="card-text" id="last_updated">Last Updated: NaN</p>
               <br>


               <div class="card">
                  <h5 class="card-header">Settings</h5>
                  <div class="card-body">
                    <!--- Dropdown Box Selection, if selected change the alert type to the selected alert type --->
                    <div class="form-group">
                     <label for="sel1">Event Type</label>
                     <select class="form-control" id="eventType_sel">
                        <option>Tornado Emergency</option>
                        <option>PDS</option>
                        <option>Tornado Warning</option>
                        <option>Tornado Watch</option>
                        <option>Considerable Destructive Severe Thunderstorm Warning</option>
                        <option>Destructive Severe Thunderstorm Warning</option>
                        <option>Severe Thunderstorm Warning</option>
                        <option>Severe Thunderstorm Watch</option>
                        <option>Special Marine Warning</option>
                        <option>Flash Flood Warning</option>
                        <option>Flash Flood Watch</option>
                     </select>

                     <label for="sel1">Event Action</label>
                     <select class="form-control" id="eventAction_sel">
                        <option>Alert</option>
                        <option>Update</option>
                        <option>Cancel</option>
                     </select>



                     <label for="sel1">Event Listing</label>
                     <select class="form-control" id="eventListing_sel">
                        <option>OBSERVED</option>
                        <option>RADAR INDICATED</option>
                        <option>EXPIRED/CANCELLED</option>
                     </select>

                 
                     <label for="sel1">Locations</label>
                     <!--- Text Box -->
                     <input type="text" class="form-control" id="alert_title" placeholder="Somewhere, ST;">
                     <br>

                  <button type="button" class="btn btn-primary" id="submit_alert">Submit</button>
                  
                   </div>
                     

                  </div>
               </div>
               
               <footer class="pt-5 d-flex justify-content-between">
                  <span>Copyright Â© 2023-2024 <a href="https://github.com/K3YOMI">K3YOMI</a></span>
                  <ul class="nav m-0">
                     <li class="nav-item">
                        <a class="nav-link text-secondary" href="https://discord.gg/kD2tYVcU">Discord Server</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link text-secondary" href="https://api.weather.gov/">API</a>
                     </li>
                  </ul>
               </footer>
            </main>
         </div>
      </div>
      </div>  
   </body>
   <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
   <script>
      // check if the dropdown box is selected
      // if selected, change the alert type to the selected alert type
      


      let dropdown = document.getElementById('submit_alert');
      dropdown.addEventListener('click', function(event) {
        let get_eventType = document.getElementById('eventType_sel').value;
         let get_eventAction = document.getElementById('eventAction_sel').value;
         let get_eventListing = document.getElementById('eventListing_sel').value;
         let get_locations = document.getElementById('alert_title').value;

         // send post
         let ip = window.location.protocol + "//" + window.location.host;
         let url = ip + "/api/post/query"
         let post_dta = {
            "eventType": get_eventType,
            "eventAction": get_eventAction,
            "eventListing": get_eventListing,
            "locations": get_locations
         }
         console.log(post_dta);
         fetch(url, {
            method: 'POST',
            headers: {
               'Content-Type': 'application/json'
            },
            body: JSON.stringify(post_dta)
         })
      });



   </script>
</html>
