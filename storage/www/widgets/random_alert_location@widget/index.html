<!DOCTYPE html>
<html>
  <head>
    <title>AtmosphericX</title>
    <link rel="icon" href="/assets/media/dashboard/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="../widgets/random_alert_location@widget/index.css">
    <link rel="stylesheet" href="../../assets/styles/variables.css">

    <!-- Scripts -->
    <script src="../../assets/javascript/library.js"></script>
    <script src="../../assets/javascript/elements.js"></script>
    <script src="../../assets/javascript/alerts.js"></script>
  </head>

  <body>
    <p id="wx-location" class="text">Awaiting Callback...</p>

    <script>
      const channel = new BroadcastChannel('wx-sync');
      const locEl   = document.getElementById('wx-location');

      channel.addEventListener('message', (e) => {
        if (e.data.type === 'warning-selected') {
          locEl.textContent = 'Locations: ' + e.data.loc || 'â€•';
        }
      });
    </script>
  </body>
</html>
