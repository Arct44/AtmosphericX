<!DOCTYPE html>
<html>
    <head>
        <title>AtmosphericX - Dashboard</title>
        <meta name="viewport" content="width=device-width initial-scale=0.5, maximum-scale=0.5, user-scalable=no minimal-ui">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="../assets/styles/dashboard.css">
        <link rel="stylesheet" href="../assets/styles/responsive-dashboard.css">
        <link rel="stylesheet" href="../../assets/styles/streaming.css">
        <link rel="icon" href="/assets/media/dashboard/favicon.ico" type="image/x-icon">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
        <script src="../assets/javascript/library.js"></script>
        <script src="../assets/javascript/dashboard.js"></script>
        <script src="../assets/javascript/alerts.js"></script>
        <script src="../../assets/javascript/static.js"></script>
    </head>
    <body id="_body.base">
        <i class="hamburger-menu fa fa-bars" onclick="dashboard_class.triggerHamburgerListener()"></i>
        <div class="interactive-sidebar" data-state="closed">
            <img src="/assets/media/dashboard/logo.png" alt="Logo" class="sidebar-logo">
            <hr class="sidebar-hr">
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.home')">
                <i class="fas fa-house-user"></i>
                <span>Dashboard</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.alerts')">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Active Alerts</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.lsr')">
                <i class="fas fa-flag"></i>
                <span>Reports Index</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.dicussions')">
                <i class="fas fa-cloud-sun"></i>
                <span>Discussions</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.torProbability')">
                <i class="fas fa-chart-bar"></i>
                <span>TOR Probability</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.svrProbability')">
                <i class="fas fa-chart-bar"></i>
                <span>SVR Probability</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.nwws')">
                <i class="fas fa-comments"></i>
                <span>NWWS-OI</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.spc')">
                <i class="fas fa-project-diagram"></i>
                <span>SPC Models</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.spotternetwork')">
                <i class="fas fa-globe"></i>
                <span>Spotter Network</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.external')">
                <i class="fas fa-satellite-dish"></i>
                <span>Services</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.navigationListener('_navigation.help')">
                <i class="fa fa-hands-helping"></i>
                <span>General Support</span>
            </div>
            <div class="sidebar-item" onclick="window.open('/settings', '_blank', 'width=602,height=800');">
                <i class="fas fa-cogs"></i>
                <span>Widget Settings</span>
            </div>
            <div class="sidebar-item" onclick="dashboard_class.triggerAccountListner()">
                <i class="fas fa-user"></i>
                <span>My Account</span>
            </div>
            <div class="sidebar-item" onclick="window.open('https://ko-fi.com/k3yomi', '_blank', 'width=1000,height=1000');">
                <i class="fas fa-donate"></i>
                <span>Support Me</span>
            </div>
            <div class="sidebar-item" onclick="window.open('https://github.com/k3yomi/atmosphericx', '_blank', 'width=1000,height=1000');">
                <i class="fas fa-external-link-square-alt"></i>
                <span>Github</span>
            </div>
            <div class="sidebar-item" onclick="window.open('https://k3yomi.github.io/blog/posts/atmosphericx/', '_blank', 'width=1000,height=1000');">
                <i class="fas fa-external-link-square-alt"></i>
                <span>Documentation</span>
            </div>
            <footer class="sidebar-footer">
                <p>Project AtmosphericX <small>v7.0.5 (Public)</small><br><small>Created with ‚ù§Ô∏è by k3yomi (KiyoWx)</small></p>
            </footer>
        </div>
        <div class="wrapper">
            <div id="_navigation.home" style="display: block;" type="menu">
                <h1 class="title-dashboard">Dashboard</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">üëã Welcome back, <span id="_home.accountname">[Account Name]</span></h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                            Project AtmosphericX is a web-based platform and widget manager tailored for amateur weather enthusiasts, storm chasers, and anyone passionate about understanding and tracking severe weather events. It provides near real-time alerts and updates, ensuring users stay informed about critical weather conditions as they unfold.
                            Whether you‚Äôre streaming, chasing, or just keeping an eye on the weather, AtmosphericX has you covered with the data you need.
                        </p>
                    </div>
                </div>
                <div class="grid-area" id="._nonchild_atmosx_dashboard" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">Documentation</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                            <a href="https://k3yomi.github.io/blog/posts/atmosphericx/" target="_blank" rel="noopener noreferrer">
                                <div style="text-align: center;">
                                    <img class="spcial-image" src="/assets/media/dashboard/logo.png" alt="GitHub Repository" style="width: 70%; height: auto;">
                                </div>
                            </a>
                        </p>
                    </div>
                    <div class="data-card"> 
                        <h1 class="data-card-title">Donate (Ko-Fi)</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                            <a href="https://ko-fi.com/k3yomi" target="_blank" rel="noopener noreferrer">
                                <div style="text-align: center;">
                                    <img class="spcial-image" src="/assets/media/dashboard/logo.png" alt="Support Me on Ko-fi" style="width: 70%; height: auto;">
                                </div>
                            </a>
                        </p>
                    </div>
                    <div class="data-card"> 
                        <h1 class="data-card-title">Demo Video</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                        <iframe class="data-card-video" src="https://www.youtube.com/embed/CQeA9cGQZvw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </p>
                    </div>
                </div>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">Latest Changelogs</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                            <ul>
                                <small>Updated: Thursday, May 8th 2025</small>
                                <li>Refactored and revamped client code for better maintainability and performance.</li>
                                <li>Removed underscores from argument names and adopted camelCase naming convention.</li>
                                <li>Removed lightning statistics and general device IO statistics sections.</li>
                                <li>Combined dashboard alert functions into a single streamlined function.</li>
                                <li>Unified login, register, and reset functionalities into a single cohesive flow.</li>
                                <li>Revamped dashboard layout for improved user experience.</li>
                                <li>Fixed mapbox causing high lag spikes (INP > 1000ms).</li>
                                <li>Added a new notificiation system in dashboard/mapbox.</li>
                                <li>Fixed NWWS XMPP Session reconnecting upon network loss.</li>
                                <li>Added alert filtering and tracking by spotter network and realtimeirl.</li>
                            </ul>
                        </p>
                    </div>
                </div>
            </div>
            <div id="_navigation.alerts" style="display: none;" type="menu">
                <h1 class="title-dashboard">Active Alerts</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Top 6 Most Recent Alerts</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_alerts.recent_alerts" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Search Alerts</span></h1>
                        <hr class="data-card-hr"> 
                        <input class="popup-input" id="_alerts.alert_search" style="width: 50%; margin-top: 5px;" placeholder="Search for alerts, locations, and or any tag indicator" onkeyup="dashboard_class.spawnAlertCards(undefined, false, undefined, document.getElementById('_alerts.alert_search').value)"><br><br>
                        <div id="child_atmosx_alerts.global_alerts" class="grid-area" style="grid-template-columns: repeat(2, 1fr);"></div>                   
                    </div>
                   
                </div>
            </div>
            <div id="_navigation.lsr" style="display: none;" type="menu">
                <h1 class="title-dashboard">Local Storm Reports</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Storm Report Index</span></h1>
                        <hr class="data-card-hr"> 
                        <small>Search for Local Storm Reports</small><br>
                        <input class="popup-input" id="_lsr.reports_search" style="width: 50%; margin-top: 5px;" placeholder="" onkeyup="dashboard_class.spawnStormReports(undefined, undefined, document.getElementById('_lsr.reports_search').value)"><br><br>
                        <div id="child_atmosx_lsr.reports" class="grid-area" style="grid-template-columns: repeat(3, 1fr)"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.dicussions" style="display: none;" type="menu">
                <h1 class="title-dashboard">Discussions</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Mesoscale Discussions</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_discussions.mesoscale" class="grid-area" style="grid-template-columns: repeat(1, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.spc" style="display: none;" type="menu">
                <h1 class="title-dashboard">SPC Models</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Storm Prediction Center Models</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub_spc.models" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.spotternetwork" style="display: none;" type="menu">
                <h1 class="title-dashboard">Spotter Network</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Spotter Network Index</span></h1>
                        <hr class="data-card-hr"> 
                        <small>Search for Spotters</small><br>
                        <input class="popup-input" id="_spotternetwork.spotter_search" style="width: 50%; margin-top: 5px;" placeholder="Search Spotters" oninput="dashboard_class.spawnStormSpotterNetwork(undefined, undefined, this.value)"><br><br>
                        <div id="child_atmosx_spotternetwork.general" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.external" style="display: none;" type="menu">
                <h1 class="title-dashboard">External Services</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">External Third-Party Services</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub_external.services" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.nwws" style="display: none;" type="menu">
                <h1 class="title-dashboard">NWWS-OI</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Latest NWWS Reports</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_nwws.reports" class="grid-area" style="grid-template-columns: repeat(1, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.torProbability" style="display: none;" type="menu">
                <h1 class="title-dashboard">Tornado Probability Statistics</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Tornado Probability Statistics</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_tor.statistics" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.svrProbability" style="display: none;" type="menu">
                <h1 class="title-dashboard">Severe Probability Statistics</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Severe Probability Statistics</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_svr.statistics" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.help" style="display: none;" type="menu">
                <h1 class="title-dashboard">General Help Center</h1>
                <div class="grid-area" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Optional Plugins</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub.plugins" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                        <div id="hub.support" class="grid-area" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        let dashboard_class;
        let alert_class;
        let library = new Library()
        if (window.innerWidth <= 1270) { document.getElementById(`._nonchild_atmosx_dashboard`).style.gridTemplateColumns = 'repeat(1, 1fr)';}
        if (window.innerWidth <= 1270) { document.getElementById(`hub.plugins`).style.gridTemplateColumns = 'repeat(1, 1fr)';}
        if (window.innerWidth <= 1270) { document.getElementById(`hub.support`).style.gridTemplateColumns = 'repeat(1, 1fr)';}
        library.createWebsocketSession([`torprob`, `svrprob`, `public`, `active`, `discussions`, `notifications`, `header`, `reports`, `spotters`, `manual`, `wire`, `random`]).then(async () => {
            alert_class = new Alerts(library, true)
            dashboard_class = new Dashboard(library, false)
            library.createNotification(`Welcome back <span style="color: green;">${localStorage.getItem('atmosx.cached.username') || 'Default User'}</span>`)
            dashboard_class.UpdateThread()
            dashboard_class.spawnGeneralSetupHub()
            dashboard_class.spawnExternalServices()
            dashboard_class.spawnStormPredictionCenterModels()
            document.addEventListener('onCacheUpdate', async (event) => {
                alert_class.syncAlerts(true)
                await dashboard_class.UpdateThread()
            })
        })
    </script>
</html>